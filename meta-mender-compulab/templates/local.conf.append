# Appended fragment from meta-mender-community/meta-mender-compulab/templates
PREFERRED_RPROVIDER_u-boot-fw-utils = "u-boot-fw-utils-mender-auto-provided"
IMAGE_INSTALL_append = " kernel-image kernel-devicetree"
IMAGE_FSTYPES_remove = "sdcard sdcard.bz2 mender.bmap tar.bz2 ext4"
MENDER_STORAGE_DEVICE_cl-som-imx8 = "/dev/mmcblk0"
MENDER_STORAGE_DEVICE_cl-som-imx7 = "/dev/mmcblk2"
MENDER_UBOOT_STORAGE_DEVICE_cl-som-imx7 = "1"
MENDER_BOOT_PART_SIZE_MB = "40"
IMAGE_BOOTLOADER_BOOTSECTOR_OFFSET_cl-som-imx8 = "66"
IMAGE_BOOTLOADER_FILE_cl-som-imx8 = "imx-boot-${MACHINE}-${UBOOT_CONFIG}.bin"
do_image_sdimg[depends] += "${@bb.utils.contains('PREFERRED_PROVIDER_virtual/bootloader','u-boot-imx','imx-boot:do_deploy','',d)}"
KERNEL_DEVICETREE = "imx7d-sbc-iot-imx7.dtb"
PREFERRED_PROVIDER_u-boot_cl-som-imx8 = "u-boot-imx"
PREFERRED_PROVIDER_u-boot_cl-som-imx7 = "u-boot-compulab"
MENDER_STORAGE_TOTAL_SIZE_MB = "2048"
